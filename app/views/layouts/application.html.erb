<!--When you add code to layout it'll show up on every page.
Adding code will show up everywhere. Good for stuff like a navbar.
-->

<!DOCTYPE html>
<html>
  <head>
    <title>Saasapp</title>
    <%= csrf_meta_tags %>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,700,800" rel="stylesheet">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

 <nav class="navbar navbar-default navbar-static-top" role="navigation">
  <div class='container'>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <%= link_to root_path, class: "navbar-brand" do %>
      <i class=" fa fa-university"></i>
      Westeros
      <% end %>
    </div>
    <div class="collapse navbar-collapse" id="main-nav-collapse">
        <div class="nav navbar-nav navbar-right">
          <% if user_signed_in? %>
            <%= link_to "Log Out", destroy_user_session_path, method: :delete, class: "btn btn-default navbar-btn" %>
          <% else %>
            <%= link_to "Log In", new_user_session_path, class: "btn btn-default navbar-btn" %>
            <!-- Could have had "/users/login" instead of new_user_session but 
            best practice is to include path name from either routes.rb or using 
            the rails routes command to find the 'prefix'-->
          <% end %>
        </div>
      <ul class="nav navbar-nav navbar-right">
        <!-- Could write this w/ raw html using <a href='/about_us" class="x">About Us</a>
        but below is best practice on how to add rails links --> 
        <li><%= link_to "About", about_path %></li>
        <li><%= link_to "Contact Us", new_contact_path %></li>
        <li><%= link_to "My HubSpot", my_hubspot_path %></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div>
</nav>
      <div class="container">
        <% flash.each do |type, msg| %>
         <!-- shows messages from contacts_controller -->
          <%= content_tag :div, msg, class: "alert alert-#{type}" %>
          <!--Used rails to create div for us.
          Using string interpulation. Type refers to key we use, danger or success
          msg assigns to whatever assigned to keys in hash (like "Message sent")
        <% end %>
        <!-- Moved flash.each loop from new.html.erb to here so users won't only see flash messages
        when on the contact form --> 
        </div>
      <%= yield %>
  </body>
</html>
